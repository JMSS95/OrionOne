# ============================================
# OrionOne - Environment Variables
# Next.js 15 + Nest.js 11 Stack
# ============================================

# ============================================
# DATABASE (PostgreSQL 18)
# ============================================
DATABASE_URL="postgresql://orionone:secret@localhost:5432/orionone?schema=public"

# ============================================
# REDIS (Cache & Sessions)
# ============================================
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_PASSWORD=""

# ============================================
# MEILISEARCH (Search Engine)
# ============================================
MEILISEARCH_HOST="http://localhost:7700"
MEILISEARCH_KEY="masterKey"

# ============================================
# JWT (Authentication)
# ============================================
JWT_SECRET="your-super-secret-jwt-key-change-in-production-min-32-chars"
JWT_EXPIRES_IN="15m"
REFRESH_TOKEN_EXPIRES_IN="7d"

# ============================================
# EMAIL (Mailpit for development)
# ============================================
MAIL_HOST="localhost"
MAIL_PORT=1025
MAIL_USER=""
MAIL_PASSWORD=""
MAIL_FROM_ADDRESS="noreply@orionone.local"
MAIL_FROM_NAME="OrionOne ITSM"

# ============================================
# APPLICATION
# ============================================
NODE_ENV="development"
PORT=3001

# Frontend URL (for CORS)
FRONTEND_URL="http://localhost:3000"
ALLOWED_ORIGINS="http://localhost:3000,http://localhost,http://localhost:80"

# ============================================
# FRONTEND (Next.js)
# ============================================
NEXT_PUBLIC_API_URL="http://localhost/api"
NEXT_PUBLIC_APP_NAME="OrionOne ITSM"
NEXT_PUBLIC_APP_URL="http://localhost"

# ============================================
# FILE UPLOADS
# ============================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
UPLOAD_DESTINATION="./uploads"

# ============================================
# OPTIONAL: AWS S3 (for production file storage)
# ============================================
# AWS_REGION="eu-west-1"
# AWS_ACCESS_KEY_ID="your-access-key"
# AWS_SECRET_ACCESS_KEY="your-secret-key"
# AWS_S3_BUCKET="orionone-uploads"

# ============================================
# OPTIONAL: Monitoring & Logging
# ============================================
# SENTRY_DSN="https://your-sentry-dsn"
# LOG_LEVEL="debug"

# ============================================
# NOTES:
# ============================================
# 1. Copy this file to .env in each project:
#    - nest-backend/.env (backend variables)
#    - next-frontend/.env.local (frontend variables)
#
# 2. Never commit .env files to Git!
#
# 3. Change all secrets in production:
#    - JWT_SECRET (min 32 characters)
#    - MEILISEARCH_KEY (strong password)
#    - DATABASE credentials
#
# 4. For Docker: Use service names as hosts:
#    - DATABASE_URL: postgresql://orionone:secret@postgres:5432/orionone
#    - REDIS_HOST: redis
#    - MEILISEARCH_HOST: http://meilisearch:7700
